# Telegram Anti-Spam Bot with User Cleanup

ü§ñ Telegram –±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–ø–∞–º–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ò–ò (Ollama) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∏–∑ —á–∞—Ç–æ–≤.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ò–ò-–∞–Ω–∞–ª–∏–∑** —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—É—é Ollama
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–∞–π—Ç–ª–∏—Å—Ç** –ø–æ—Å–ª–µ N –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π  
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–æ—Ä–æ–≥–∏** —Å–ø–∞–º–∞ –∏ –≤–∞–π—Ç–ª–∏—Å—Ç–∞
- **–ë–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö API** - —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤** –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —á–∞—Ç–æ–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Ollama** –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–æ–¥–µ–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `llama3.2:3b`)
2. **–°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª:**
   ```env
   TELEGRAM_BOT_TOKEN=your_bot_token
   TELEGRAM_API_ID=your_api_id
   TELEGRAM_API_HASH=your_api_hash
   TELEGRAM_PHONE=+79996252564
   KICK_DELETED_CHAT=@your_chat
   ```
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   cargo run --release -- bot
   ```

## üßπ –£–¥–∞–ª–µ–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—á–∏—Å—Ç–∫–∏ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤:

```bash
cargo run -- kick-deleted --chat @chat_username
```

–ò–ª–∏ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏:
```bash
cargo run -- kick-deleted --chat @chat_username --dry-run --pause 2.0
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ | **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** |
| `TELEGRAM_API_ID` | API ID –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ Telegram | **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏** |
| `TELEGRAM_API_HASH` | API Hash –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ Telegram | **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏** |
| `TELEGRAM_PHONE` | –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ | **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏** |
| `KICK_DELETED_CHAT` | –ß–∞—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ | - |
| `KICK_DELETED_SESSION` | –§–∞–π–ª —Å–µ—Å—Å–∏–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ | `kick_deleted_session` |
| `KICK_DELETED_DRY_RUN` | –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è | `true` |
| `KICK_DELETED_PAUSE` | –ü–∞—É–∑–∞ –º–µ–∂–¥—É –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ (—Å–µ–∫) | `1.0` |
| `SPAM_THRESHOLD` | –ü–æ—Ä–æ–≥ —Å–ø–∞–º–∞ (0-100) | `70` |
| `HAM_WHITELIST_THRESHOLD` | –°–æ–æ–±—â–µ–Ω–∏–π –¥–æ –≤–∞–π—Ç–ª–∏—Å—Ç–∞ | `15` |
| `OLLAMA_MODEL` | –ú–æ–¥–µ–ª—å Ollama | `llama3.2:3b` |
| `TEG_USERNAME` | –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø—Ä–∏ —Å–ø–∞–º–µ | - |

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –§–∏–ª—å—Ç—Ä —Å–ø–∞–º–∞:
1. **–ê–Ω–∞–ª–∏–∑** –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ Ollama
2. **–°–ø–∞–º** (‚â•70%) ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ —á–∞—Ç
3. **–ù–µ —Å–ø–∞–º** (<70%) ‚Üí —Å—á–µ—Ç—á–∏–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
4. **–ê–≤—Ç–æ–≤–∞–π—Ç–ª–∏—Å—Ç** –ø–æ—Å–ª–µ 15 –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

### –£–¥–∞–ª–µ–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤:
1. **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —á–∞—Ç–∞
2. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –ø–æ –∏–º–µ–Ω–∏/–¥–∞–Ω–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª—è  
3. **–£–¥–∞–ª–µ–Ω–∏–µ** —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫—Ä–∏—Ç–µ—Ä–∏—è–º —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
4. **–ü–∞—É–∑—ã** –º–µ–∂–¥—É –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π API

–ë–æ—Ç –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç: —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ, –≤–æ–ø—Ä–æ—Å—ã, –º–∞—Ç, —Ñ–ª—É–¥, —Å—Å—ã–ª–∫–∏, —ç–º–æ—Ü–∏–∏.

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –î–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ –æ—á–∏—Å—Ç–∫–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- –£–¥–∞–ª—è—é—Ç—Å—è –∞–∫–∫–∞—É–Ω—Ç—ã —Å –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏, —É–∫–∞–∑—ã–≤–∞—é—â–∏–º–∏ –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Deleted Account" –≤ –∏–º–µ–Ω–∏)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º `dry-run` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª—å–Ω—ã–º —É–¥–∞–ª–µ–Ω–∏–µ–º
